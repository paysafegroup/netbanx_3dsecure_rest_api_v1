FORMAT: 1A
HOST: https://api.test.paysafe.com/threedsecure/

# Paysafe 3D Secure API

# Release Notes

| Version   | Date          | Details |
|---        |---            |---      |
| 1.0       | November 2016 | <ul><li>Document release</li></ul>|

# Overview 

A transaction using Verified by Visa or MasterCard SecureCode will initiate a redirection to the website of the card issuing bank to authorize the transaction. Each issuing bank could use any kind of authentication method (the protocol does not cover this) but typically, a password-based method is used. So to effectively buy on the Internet means using a password tied to the card. The Verified by Visa protocol recommends the bank's verification page to load in an [inline frame](http://en.wikipedia.org/wiki/HTML_element#Frames) session. In this way, the bank's systems can be held responsible for most security breaches.

**Note:** Paysafe is compliant to 3D Secure version 1.0.2. 3D Secure is currently supported for Visa and MasterCard brands only. Contact your account manager for more information.

The steps in 3D Secure cardholder authentication are shown below. For a detailed description, see the [Introduction to 3D Secure](https://developer.paysafe.com/en/rest-api/3ds/getting-started/introduction-to-3d-secure/).

![](https://developer.paysafe.com/fileadmin/flarecontent/devcentre/Content/Resources/Images/3DAPIOverview.png)

<a name="apikey" title="Authentication"></a>
# Authentication

In order for you to use the Paysafe REST API, Paysafe must first set you up on their system and provide you with an API key. Your API key looks something like this:

  * Key Username - MerchantXYZ
  * Key Password - B-tst1-0-51ed39e4-312d02345d3f123120881dff9bb4020a89e8ac44cdfdcecd702151182fdc952272661d290ab2e5849e31bb03deede7e

**Note:** This is not the same as your Merchant Back Office username and password.

The case-sensitive API key is sent using HTTP Basic Authentication. To use HTTP Basic Authentication, you must send the API key credentials using the Authorization header with every request. The Authorization header is constructed as follows:

1. The Key Username and Key Password are combined into a string separated by a colon, e.g.,“Key Username:Key Password”.

2. The resulting string literal is then encoded using Base64.

3. The authorization method and a space (i.e., “Basic”) are then put before the encoded string.

For example, using the Key Username and Password examples above, the header is formed as follows:

``Authorization: Basic
TWVyY2hhbnRYWVo6Qi10c3QxLTAtNTFlZDM5ZTQtMzEyZDAyMzQ1ZDNmMTIzMTIwODgxZGZmOWJiNDAyMGE4OWU4YWM0NGNkZmRjZWNkNzAyMTUxMTgyZmRjOTU yMjcyNjYxZDI5MGFiMmU1ODQ5ZTMxYmIwM2RlZWRlN2U=``

For additional details, please refer to [http://en.wikipedia.org/wiki/Basic_access_authentication](http://en.wikipedia.org/wiki/Basic_access_authentication).

**Note:** Your Production API key will be different from your Test API key. Contact your account manager for details. You must keep your API keys safe and ensure that it is used appropriately for your needs.

# URLs

## Test URL

In order to test your integration with Paysafe, use the following Test URL:

``https://api.test.paysafe.com``

For example:

``https://api.test.paysafe.com/threedsecure/v1/accounts/{ACCOUNT_ID}``

## Production URL

In order to process live requests with Paysafe, use the following Production URL:

``https://api.paysafe.com``

For example:

``https://api.paysafe.com/threedsecure/v1/accounts/{ACCOUNT_ID}``

<a name="globalinvalidcharacters" title="Global Invalid Characters"></a>
# Global Invalid Characters

You must not include any of the characters in the following table as values in any of your request parameters. If you do, your request will result in an error.

|    Character    |    HEX    |    Description                     |
|-----------------|-----------|------------------------------------|
| "               | 22        | Double quotes (or speech marks)    |
| ;               | 3B        | Semicolon                          |
| ^               | 5E        | Caret, circumflex                  |
| *               | 2A        | Asterisk                           |
| <               | 3C        | Less than (or open angled bracket) |
| /               | 2F        | Slash or divide                    |
| [               | 5B        | Opening bracket                    |
| ]               | 5D        | Closing bracket                    |
| \               | 5C        | Backslash                          |

# API

The 3D Secure API allows merchants to verify whether a credit card being used for an online transaction is registered in the 3D Secure program, and, if it is, to then use 3D Secure to authenticate that card. The REST protocol uses JSON for all requests and responses.

The following request types are supported: 

  * [Enrollment Lookups](#enrollmentlookups)
  * [Authentications](#authentications)
  
**API Endpoint**

`https://api.paysafe.com/threedsecure/v1/accounts/{ACCOUNT_ID}`

**Resource Patterns**

|Endpoint URL                                       |Description                                        |Action |
|---                                                |---                                                |---    |
|/enrollmentchecks                                  |Verify whether a card is enrolled in 3D Secure     |POST   |
|/enrollmentchecks/{ENROLLMENT_ID}                  |Look up an enrollment response                     |GET    |
|/enrollmentchecks/{ENROLLMENT_ID}/authentications  |Authenticate a card with 3D Secure                 |POST   |
|/authentications/{AUTHENTICATION_ID}               |Look up an Authentication request                  |GET    |



# Getting Started

You can use the 3D Secure REST APIs to verify whether a credit card is enrolled for the 3D Secure service, and then, if it is, to authenticate that credit card when it is being used for an online purchase request. This enables you to process transactions through the Card Payments API that are fully 3D Secure. Click [here](https://developer.paysafe.com/en/rest-api/3ds/using-the-api/scenarios/) for descriptions of the main scenarios.

# Testing Instructions

The Paysafe Test environment can be used to test websites or applications without actually running transactions through a live 3D Secure service. It is important to make sure that your systems are working correctly before going into a live environment. Click [here](https://developer.paysafe.com/en/rest-api/3ds/test-and-go-live/testing-instructions/) for details of how to use the test environment.

# 3D Secure Results

Click [here](https://developer.paysafe.com/en/rest-api/3ds/test-and-go-live/3d-secure-results-and-liability-shift/) for details of 3D Secure results and liability shift.

<a name="isostandards" title="ISO Standards"></a>
# ISO Standards

<a name="CurrencyCodes" title="Currency Codes"></a>
## Currency Codes

**Note:**
 * The table below lists the currencies in which transaction requests are processed, but note that they may be settled in a different currency. 
 * Not all currencies are supported by all banks. Contact your account manager for more information about which currencies are supported for your merchant account.

|Currency |Code |
|--- |--- |
|Argentine Peso |ARS |
|Australian Dollar  |AUD |
|Azerbaijanian Manat    |AZN |
|Bahraini Dinar |BHD  |
|Belarusian Ruble   |BYR  |
|Bolivian Boliviano |BOB  |
|Bosnia and Herzegovina Convertible Mark |BAM  |
|Brazilian Real |BRL  |
|Bulgarian Lev  |BGN  |
|Canadian Dollar    |CAD  |
|Chilean Peso   |CLP  |
|China Yuan Renminbi    |CNY  |
|Columbian Peso |COP  |
|Costa Rican Colon  |CRC  |
|Croatian Kuna  |HRK  |
|Czech Koruna   |CZK  |
|Danish Krone   |DKK  |
|Dominican Peso |DOP  |
|East Caribbean Dollar  |XCD  |
|Egyptian Pound |EGP  |
|Ethiopian Birr |ETB  |
|Euro   |EUR  |
|Fiji Dollar    |FJD  |
|Georgian Lari  |GEL  |
|Guatemala Quetzal  |GTQ  |
|Haiti Goude    |HTG  |
|Honduran Lempira   |HNL  |
|Hong Kong Dollar   |HKD  |
|Hungarian Forint   |HUF  |
|Iceland Krona  |ISK  |
|Indian Rupee   |INR  |
|Indonesia Rupiah   |IDR  |
|Iranian Rial   |IRR  |
|Jamaican Dollar    |JMD  |
|Japanese Yen   |JPY  |
|Jordanian Dinar    |JOD  |
|Kazakhstan Tenge   |KZT  |
|Kenyan Shilling    |KES  |
|Korean Won |KRW  |
|Kuwaiti Dinar  |KWD  |
|Latvian Lats   |LVL  |
|Lebanese Pound |LBP  |
|Libyan Dinars  |LYD  |
|Lithuanian Litas   |LTL  |
|Malawi Kwacha  |MWK  |
|Malaysian Ringgit  |MYR  |
|Mauritius Rupee    |MUR  |
|Mexican Peso   |MXN  |
|Moldovan Leu   |MDL  |
|Moroccan Dirham    |MAD  |
|New Israeli Shekel |ILS  |
|New Zealand Dollar |NZD  |
|Nigerian Naira |NGN  |
|Norwegian Krone    |NOK  |
|Omani Rial |OMR  |
|Pakistan Rupee |PKR  |
|Panamanian Balboa  |PAB  |
|Paraguayan Guarani |PYG  |
|Peruvian Sol   |PEN  |
|Philippine Peso    |PHP  |
|Polish Zloty   |PLN  |
|Pound Sterling |GBP  |
|Qatari Rial    |QAR  |
|Romanian New Leu   |RON  |
|Russian Ruble  |RUB  |
|Saudi Arabian Riyal    |SAR  |
|Serbian Dinar  |RSD  |
|Singapore Dollar   |SGD  |
|South African Rand |ZAR  |
|Sri Lanka Rupee    |LKR  |
|Swedish Krona  |SEK  |
|Swiss Franc    |CHF  |
|Syrian Pound   |SYP  |
|Taiwan New Dollar  |TWD  |
|Thai Baht  |THB  |
|Trinidad and Tobago Dollar |TTD  |
|Tunisian Dinar |TND  |
|Turkish Lira   |TRY  |
|Ukranian Hryunia   |UAH  |
|UAE Dirham |AED  |
|Uruguay Peso   |UYU  |
|US Dollar  |USD  |
|Venezuelan Bolivar |VEF  |
|Viet Nam Dong  |VND  |


# Complex JSON Objects

<a name="enrollmentchecksobject" title="Enrollment Checks Object"></a>
## enrollmentchecks

|Element                |Type                           |Description|
|---                    |---                            |---       |
|id                     |string<br/>`length<=36`        |This is the ID returned in the response. |
|merchantRefNum         |string<br/>`length<=255`       |This is the merchant reference number created by the merchant and submitted as part of the request. It must be unique for each request.|
|amount                 |number<br/>`max=99999999999`   |This is the amount of the request. For example, US $10.99 would be 1099.<br/>**Note:** Although the *amount* element is mandatory for the Enrollment Lookup request, no amount is actually processed against the credit card.|
|currency               |string                         |This is the currency of the merchant account, e.g., USD or CAD. See [Currency Codes](#CurrencyCodes)|
|card                   |[complex](#cardobject)         |These are the details of the card used.|
|customerIp             |string<br>`length<=39`         |This is the customer's IP address.|
|userAgent              |string<br>`length<=256`        |This is the User-Agent header from the customer's browser. For example:<br/>Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.125 Safari/537.36|
|acceptHeader           |string<br>`length<=2048`       |This is the Accept header from the customer's browser. For example:<br/>text/html,application/xhtml+xml,application/xml; q=0.9,image/webp,/;q=0.8|
|merchantUrl            |string<br>`length<=2048`       |This is the fully qualified URL of the merchant's commercial or customer care website.|
|txnTime                |UTC formatted date             |This is the date and time the request was processed. For example:<br/>2016-01-26T10:32:28Z|
|error                  |[complex](#errorobject)        |       |
|status                 |enum                           |This is the status of the Enrollment Lookup request. Possible values are:<br/><ul><li>COMPLETED - The transaction has been completed.</li><li>FAILED - The enrollment lookup request failed. Check the error code for details.</li></ul>|
|acsURL                 |string<br>`length<=255`        |This is the fully qualified URL to redirect the customer to complete the payer Authentication transaction.<br/>**Note:** This value is available if the value for *threeDEnrollment* = Y.|
|paReq                  |string<br>`length<=2048`       |This is the encoded Payment Authentication Request generated by the merchant authentication processing system (MAPS).<br/>**Note:** This value is available if the value for *threeDEnrollment* = Y.|
|eci                    |number                         |This is the E-Commerce Indicator (ECI). This value will be returned only on payer Authentication transactions, or for enrollments where the issuer is non-participating and the card scheme supports it. This value must be appended to the authorization request, where it enables the interchange benefits granted to merchants processing payer Authentication transactions.<br/>**Visa**<br/><ul><li>5 &ndash; Identifies a successfully authenticated transaction.</li><li>6 &ndash; Identifies an attempted authenticated transaction.</li><li>7 &ndash; Identifies a non-authenticated transaction.</li></ul><br/>**MasterCard**<br/><br/><ul><li>1 &ndash; Identifies a non-authenticated transaction.</li><li>2 &ndash; Identifies a successfully authenticated transaction.</li></ul></br>**Note:** This value is available if the value for *threeDEnrollment* = N and the card scheme supports non-participating issuers.|
|threeDEnrollment       |enum                           |This indicates whether or not the cardholder is enrolled in 3D Secure. Possible values are:<br/><ul><li>Y &ndash; Cardholder authentication available</li><li>N &ndash; Cardholder not enrolled in authentication</li><li>U &ndash; Cardholder authentication unavailable</li></ul>|

```apib
{
    "merchantRefNum": "merchantABC-123-enrollmentchecks",
    "amount": 5000,
    "currency" : "USD",
    "customerIp": "172.0.0.1",
    "userAgent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.125 Safari/537.36",
    "acceptHeader": "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8",
    "merchantUrl": "https://www.merchant.com",
    "card": {
        "cardNum": "4111111111111111",
        "cardExpiry": {
            "month": 10,
            "year": 2020
        }
    }
}
```

<a name="authenticationsobject" title="Authentications Object"></a>
## authentications

|Element                |Type                           |Description|
|---                    |---                            |---       |
|id                     |string<br/>`length<=36`        |This is the ID returned in the response. |
|merchantRefNum         |string<br/>`length<=255`       |This is the merchant reference number created by the merchant and submitted as part of the request. It must be unique for each request.|
|paRes                  |string<br/>`length<=65536`     |This is the Payment Authentication Response that is returned from the issuing bank via your customer’s Web browser once your customer has provided their authentication information. It is an encoded response generated by the Issuer ACS software. Its digital signature will be verified through Paysafe to ensure it was generated by a legitimate Issuer.<br/>**Note:** These responses can vary substantially in length depending on the card issuer.|
|customerIp             |string<br>`length<=39`         |This is the customer's IP address.|
|txnTime                |UTC formatted date             |This is the date and time the request was processed. For example:<br/>2016-01-26T10:32:28Z|
|error                  |[complex](#errorobject)        |       |
|status                 |enum                           |This is the status of the Enrollment Lookup request. Possible values are:<br/><ul><li>COMPLETED - The transaction has been completed.</li><li>FAILED - The authentication request failed. Check the error code for details.</li></ul>|
|threeDResult           |enum                           |This indicates the outcome of the Authentication.<br/><ul><li>Y &ndash; The cardholder successfully authenticated with their card issuer.</li><li>A &ndash; The cardholder authentication was attempted.</li><li>N &ndash; The cardholder failed to successfully authenticate with their card issuer.</li><li>U &ndash; Authentication with the card issuer was unavailable.</li><li>E &ndash; An error occurred during authentication.</li></ul><br/>See [3D Secure Results](https://developer.paysafe.com/en/rest-api/3ds/test-and-go-live/3d-secure-results/) for more information on these Authentication outcome values.|
|signatureStatus        |enum                           |This is the 3D Secure signature verification result value.<br/><ul><li>Y &ndash; All transaction and signature checks satisfied.</li><li>N &ndash; At least one transaction or signature check failed.</li></ul>|
|eci                    |number                         |This is the E-Commerce Indicator (ECI). This value will be returned only on payer authentication transactions, or for enrollments where the issuer is non-participating and the card scheme supports it. This value must be appended to the authorization request, where it enables the interchange benefits granted to merchants processing payer Authentication transactions.<br/>**Visa**<br/><ul><li>5 &ndash; Identifies a successfully authenticated transaction.</li><li>6 &ndash; Identifies an attempts authenticated transaction.</li><li>7 &ndash; Identifies a non-authenticated transaction.</li></ul><br/>**MasterCard**<br/><br/><ul><li>1 &ndash; Identifies a non-authenticated transaction.</li><li>2 &ndash; Identifies a successfully authenticated transaction.</li></ul>|
|cavv                   |string<br/>`length<=80`        |This is the Cardholder Authentication Verification Value, indicating that the transaction has been authenticated. This value should be appended to the authorization request signifying that the transaction has been successfully authenticated.|
|xid                    |string<br/>`length<=40`        |This is the transaction identifier returned by the card issuer.|

```apib
{
    "merchantRefNum": "merchantABC-123-authentications",
    "paRes": "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"
}
```

<a name="cardobject" title="Card Object"></a>
## card

When providing card information, merchants can provide either card details or a payment token for a customer already created in the system. 3D Secure is currently supported for Visa and MasterCard brands only; contact your account manager for more information. 

|Element            |Type                       |Required   |Description                        |
|---                |---                        |---                                    |---                                |
|paymentToken       |string <br/>`length<=80`   |           |If the payment token is provided, no other card information is necessary. |

**OR**

|Element                |Type                         |Required                 |Description|
|---                    |---                          |---                      |---       |
|cardNum                |string<br/>`length=8-20`     |                         |This is the card number. |
|cardExpiry             |[complex](#cardExpiryobject) |Required                 |This is the card expiry date.|
|lastDigits             |string<br/>`length=4`        |                         |This is the last four digits of the card used for the request, returned in the response.|
|type                   |enum                         |                         |This is the type of card used for the request. <ul><li>MC - MasterCard</li><li>VI - Visa</li></ul>|

```apib
{
    "cardNum": "123456789321",
    "cardExpiry": {
        "month": "12",
        "year": "2020"
    }
}
```

<a name="cardExpiryobject" title="Card Expiry Object"></a>
## cardExpiry

|Element                 |Type                   |Required                  |Description|
|---                     |---                    |---                       |---|
|month                   |number<br/>`length=2`  |Required                  |This is the card expiry month. |
|year                    |number<br/>`length=4`  |Required                  |This is the card expiry year.|

```apib
{
    "month": "12",
    "year": "2020"
}
```

<a name="errorobject" title="Error Object"></a>
## error

|Element                |Type          |Description|
|---                    |---           |---|
|code                   |string        |The error code.|
|message                |string        |A description of the error. Also shown in the X-Application-Error response header.|
|status                 |string        |"FAILED"       |

```apib
{  
   "error":{  
      "code":"5016",
      "message":"Account not found"
   },
   "status":"FAILED"
}
```

<a name="linksobject" title="Links Object"></a>
## links

|Element    |Type          |Required    |Description|
|---        |---           |---         |---|
|rel        |string        |Required    |This is the link type that allows different endpoints to be targeted depending on the end state of the transaction.|
|href       |string        |Required    |This is the URI of the resource.|

```apib
{
    "links": [
        {
        "rel": "self",
        "href": "https://api.test.paysafe.com/threedsecure/v1/accounts/99000/enrollmentchecks/e067d83f-add7-4b6b-8884-dfa8693dde1f"
        }
        ],
}
```

# Error Summary

<a name="commonerrors" title="Common Errors"></a>
## Common Errors
|HTTP Status Code       |Error Code     |Description|
|---                    |---            |---|
|500                    |1000           |An internal error occurred.         |
|502                    |1001           |An error occurred with the external processing gateway.|
|500                    |1002           |An internal error occurred.            |
|500                    |1003           |An internal error occurred.            |
|500                    |1007           |An internal error occurred.            |
|500                    |1008           |An internal error occurred.            |
|429                    |1200           |The API call has been denied as it has exceeded the permissible call rate limit.|
|401                    |5000           |Your merchant account authentication failed. Either your store ID/password are invalid or the IP address from which you are sending the transaction has not been authorized.|
|400                    |5001           |The submitted currency code is invalid or your account does not support this currency.|
|400                    |5003           |You submitted an invalid amount with your request.|
|400                    |5004           |You submitted an invalid account type with your request.|
|400                    |5005           |You submitted an invalid operation type with your request.|
|400                    |5010           |The submitted country code is invalid.|
|400                    |5016           |The merchant account you provided cannot be found.|
|400                    |5017           |The merchant account you provided is disabled.|
|402                    |5021           |Your transaction request has been declined.|
|400                    |5023           |The request is not parseable.|
|409                    |5031           |The transaction you have submitted has already been processed.|
|401                    |5040           |Your merchant account is not configured for the transaction you attempted.|
|400                    |5042           |The merchant reference number is missing or invalid or it exceeds the maximum permissible length.|
|400                    |5068           |Either you submitted a request that is missing a mandatory field or the value of a field does not match the format expected.|
|404                    |5269           |The ID(s) specified in the URL do not correspond to the values in the system.|
|403                    |5270           |The credentials provided with the request do not have permission to access the requested data.|
|406                    |5271           |You requested a response in the 'Accept' header that is in an unsupported format.|
|406                    |5272           |The 'Content-Type' you specified in request header was submitted in an unsupported format.|
|404                    |5273           |Your client reached our application but we were unable to service your request due to an invalid URL.|
|401                    |5275           |The authentication credentials provided with the request have expired.|
|401                    |5276           |The authentication credentials provided with the request provided have been disabled.|
|401                    |5277           |The authentication credentials provided with the request have been locked due to multiple authentication failures.|
|401                    |5278           |The authentication credentials provided with the request were not accepted for an unknown reason.|
|401                    |5279           |The authentication credentials are invalid.|
|401                    |5280           |The required authentication credentials were not provided.|
|405                    |5281           |The request uses an action (e.g., GET, POST, or PUT) that is not supported by the resource.|
|400                    |5502           |Either the payment token is invalid or the corresponding profile or bank account is not active.|

<a name="3dserrors" title="3D Secure Errors"></a>
## 3D Secure Errors
If an error occurs during the 3D Secure processing at Visa, MasterCard, or the Issuer, this will not be reported directly to the merchant. Instead the 3D Secure process will continue as normally as possible. For example:
  * If an error occurs within the directory server the *threeDEnrollment* field will indicate "U" and no ACS URL will be returned.
  * If an error occurs during the Authentication, a *PaRes* will be returned as normal, with the error indicated within, along with a *threeDResult* of "U".

In the event of an error, it is up to the merchant whether they wish to proceed with the card authorization. Please see [3D Secure Results](https://developer.paysafe.com/en/rest-api/3ds/test-and-go-live/3d-secure-results/) for more information. 

# Using the example API calls (Console Window)
To configure and test the API examples, first click on one of the API calls in the API Reference section and then click **Switch to Console** in the right hand pane. 
Using the Console window you can update the headers, the request body, and parts of the API endpoint. 
For example, for many requests you must update the endpoint to include your account ID, which you do by selecting **URI Parameters** and then updating the **ACCOUNT_ID** value. 
(To get your account ID, log into the Paysafe Back Office, choose **Accounts** and look in the *Account* column).
You must also update the Header to include your API Key by selecting **Headers** and then updating the **Authorization** value using the Base64
version of your API key. To get your API key, log into the test version of the Merchant Back Office and choose **Settings > API Key**. 
Click *View Base 64 Encoded* and copy the key to your clipboard. Paste the key after the word Basic to replace the text YOUR-BASE64-ENCODED-API-KEY.
When you are ready to test your example, you can choose between the Production and Mock server environment:
* Production server - This calls the resource on Paysafe's Test system. 
* Mock server - This environment simply returns the dummy values in the example response irrespective of the parameters you supply. You do not need to use your account ID or Test API key for this request.

To call the API resource, click **Call Resource**. The response is displayed in the Console window.

# Legal and Community
<ul>
<li><a href="https://www.paysafe.com/privacy-policy/" target="_blank">Privacy Policy</a></li>
<li><a href="https://developer.paysafe.com/en/resources-and-support/terms-of-use/" target="_blank">Terms of Use</a></li>
<li><a href="http://www.paysafe.com/regulatory-disclosure/" target="_blank">Regulatory Disclosures</a></li>
<li><a href="http://community.paysafe.com/spaces/11/index.html" target="_blank">FAQs</a></li>
<li><a href="http://community.paysafe.com/index.html" target="_blank">Community</a></li>
<li><a href="http://community.paysafe.com/spaces/10/index.html" target="_blank">Paysafe Blog</a></li>
</ul>

## Verify That the Service Is Accessible [GET /monitor]
<a name="verifyservice" title="Verify Service"></a>

This call returns a status of READY if the API is available.

+ Response 200 (application/json)

  + Body
    
            {
                "status" : "READY"
            }

# Enrollment Lookups [/enrollmentchecks]
<a name="enrollmentlookups" title="Enrollment Lookups"></a>

## Enrollment Lookup [POST /v1/accounts/{ACCOUNT_ID}/enrollmentchecks]
<a name="enrollmentlookup" title="Enrollment Lookup"></a>

This is how you do an Enrollment Lookup. You must then POST the paReq value from the lookup response to the acsURL, also from the response, together with the merchant response URL (TermUrl) for card authentication. The payment authentication response (paRes) generated during authentication is then posted to the TermUrl. 

+ Parameters

    + ACCOUNT_ID:123456789 (string, required) - This is the merchant account number.

+ Request Enrollment Lookup (application/json)

    + Headers
            
            Authorization: Basic YOUR-BASE64-ENCODED-API-KEY
        
    + Attributes
        + merchantRefNum:`merchantABC-123-enrollmentchecks` (string, required) - This is the merchant reference number created by the merchant and submitted as part of the request. It must be unique for each request.
        + amount:5000 (number, required) - This is the amount of the request, in minor units. For example, US $10.99 would be 1099.
        + currency:USD (string, required) - This is the currency of the merchant account. 
        + card (object, required) - These are the details of the [card](#cardobject) used for the request.
            - cardNum:4111111111111111 (string, required) - This is the card number.
            - cardExpiry (object, required) - This is the card expiry date.
                - month:10 (number, required) - This is month the card expires.
                - year:2020 (number, required) - This is the year the card expires.
        + customerIp:`172.0.0.1` (string, required) - This is the customer's IP address.
        + userAgent:`Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.125 Safari/537.36` (string, required) - This is the User-Agent header from the customer's browser.
        + acceptHeader:`text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8` (string, optional) - This is the Accept header from the customer's browser. Paysafe recommends including this parameter, as it can lead to higher 3D Secure acceptance rates. 
        + merchantUrl:https://www.merchant.com (string, required) - This is the fully qualified URL of the merchant's commercial or customer care website.
            
    + Body
    
            {
            "merchantRefNum": "merchantABC-123-enrollmentchecks",
            "amount": 5000,
            "currency" : "USD",
            "customerIp": "172.0.0.1",
            "userAgent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.125 Safari/537.36",
            "acceptHeader": "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8",
            "merchantUrl": "https://www.merchant.com",
            "card": {
                "cardNum": "4111111111111111",
                "cardExpiry": {
                    "month": 10,
                    "year": 2020
                }
            }
            }

+ Response 200 (application/json)

    If card enrolled

    + Attributes
        + links (array, required) - This is an [array of links](#linksobject).
            + (object)
                + rel:self (string, required) - This is the link type that allows different endpoints to be targeted depending on the end state of the transaction.
                + href:`https://api.test.paysafe.com/threedsecure/v1/accounts/99000/enrollmentchecks/e067d83f-add7-4b6b-8884-dfa8693dde1f` (string, required) - This is the URI of the resource.
        + id:`e067d83f-add7-4b6b-8884-dfa8693dde1f` (string, required) -This is the ID returned in the response.
        + merchantRefNum:`merchantABC-123-enrollmentchecks` (string, required) - This is the merchant reference number created by the merchant and submitted as part of the request. It must be unique for each request.
        + txnTime:`2016-04-09T17:59:55Z` (string, required) - This is the date and time the request was processed.
        + status:COMPLETED (enum, required) - This is the status of the Enrollment Lookup request.
            - COMPLETED - The transaction has been completed. 
            - FAILED - The Enrollment Lookup request failed. Check the error code for details.
        + amount:5000 (number, required) - This is the amount of the request, in minor units. For example, US $10.99 would be 1099.
        + currency:USD (string, required) - This is the currency of the merchant account.
        + card (object, required) - These are the details of the [card](#cardobject) used for the request.
            - type:VI (enum, required) - This is the type of card used for the request. 
            - lastDigits:1111 (string, required) - This is the last four digits of the card used for the request.
            - cardExpiry (object, required) - This is the card expiry date.
                - month:10 (number, required) - This is month the card expires.
                - year:2020 (number, required) - This is the year the card expires.            
        + customerIp:127.0.0.1 (string, required) - This is the customer's IP address.
        + acsURL:`https://pay.test.netbanx.com/emulator/test_acs` (string, optional) - This is the fully qualified URL to redirect the customer to complete the payer Authentication transaction. This value is available only if the value for threeDEnrollment = Y.
        + paReq:`eNpVUk1TwjAUvOdXOIznJoUwVuaRGRAH0PqFFPEYQ5QqSUuaQvHXm0ARvb3dvNnsbgLTpZFy8CxFaSSDO1kU/EOepYtu4+n6Vg1jEyc8LmK7+czfX0mDwWNvItcMNtIUaaZZGJCgCfgIkZMwYsm1ZcDFuj++Z5TSVqsFuIYIlDTjAaMRjVoXEb2gEeADhUBzJdl1kXMhb2RZAd4TCERWamt2LKIE8BEgKM2KLa3NOxhvt9sgy22q+CrnOyW1LQKRKcB+BwE+2Xos/VS4tFW6YEkyi9+SxZ34qmavSfU9HU2aXPfVy7TXBew3ECy4laxJQkoouTwLow4hHRIC3vMIuPKG2HmbBMTZqyGC3F/UO6A28Ud/GReqNEZqcUx1RAhklWfaJWCu2N/ZZTg5vxr5eoV1pQ31LqVq0BsNbKWfqlv+sJqbebO/Cj985/udvWTqKgvb3ncNnKLXwfWL4vrx3fTvU/wAaAaz3g==` (string)
        + eci:5 (number, optional) - This is the [e-commerce indicator](#enrollmentchecksobject). 
        + threeDEnrollment:Y (enum, required) - This indicates whether or not the cardholder is enrolled in 3D Secure. 
            - Y - Cardholder authentication available 
            - N - Cardholder not enrolled in authentication
            - U - Cardholder authentication unavailable
            
    + Body

            {
            "links": [
                {
                "rel": "self",
                "href": "https://api.test.paysafe.com/threedsecure/v1/accounts/99000/enrollmentchecks/e067d83f-add7-4b6b-8884-dfa8693dde1f"
                }
            ],
            "id": "e067d83f-add7-4b6b-8884-dfa8693dde1f",
            "merchantRefNum": "merchantABC-123-enrollmentchecks",
            "txnTime": "2016-04-09T17:59:55Z",
            "status": "COMPLETED",
            "amount": 5000,
            "currency" : "USD",
            "card": {
                "type": "VI",
                "lastDigits": "1111",
                "cardExpiry": {
                    "month": 10,
                    "year": 2020
                }
            },
            "customerIp": "127.0.0.1",
            "acsURL": "https://pay.test.netbanx.com/emulator/test_acs",
            "paReq": "eNpVUk1TwjAUvOdXOIznJoUwVuaRGRAH0PqFFPEYQ5QqSUuaQvHXm0ARvb3dvNnsbgLTpZFy8CxFaSSDO1kU/EOepYtu4+n6Vg1jEyc8LmK7+czfX0mDwWNvItcMNtIUaaZZGJCgCfgIkZMwYsm1ZcDFuj++Z5TSVqsFuIYIlDTjAaMRjVoXEb2gEeADhUBzJdl1kXMhb2RZAd4TCERWamt2LKIE8BEgKM2KLa3NOxhvt9sgy22q+CrnOyW1LQKRKcB+BwE+2Xos/VS4tFW6YEkyi9+SxZ34qmavSfU9HU2aXPfVy7TXBew3ECy4laxJQkoouTwLow4hHRIC3vMIuPKG2HmbBMTZqyGC3F/UO6A28Ud/GReqNEZqcUx1RAhklWfaJWCu2N/ZZTg5vxr5eoV1pQ31LqVq0BsNbKWfqlv+sJqbebO/Cj985/udvWTqKgvb3ncNnKLXwfWL4vrx3fTvU/wAaAaz3g==",
            "threeDEnrollment": "Y"
            }

+ Response 200 (application/json) 

    If card not enrolled

    + Body

            {
            "amount": 5000,
            "card": {
                "cardExpiry": {
                    "month": 10,
                    "year": 2020
                },
                "type": "VI",
                "lastDigits": "2345",
                "type": "VI"
            },
            "currency": "GBP",
            "customerIp": "172.0.0.1",
            "eci": 6,
            "id": "4fdb66c4-1070-49e8-b525-4bd496c16156",
            "links": [
                {
                "href": "https://test_s4unders:B-qa2-0-5845377d-0-302c021408afe10ec281ac1c3a7364309f77d27aab4eda6c021478f5f5f2886391865080cf1e053e2c6a144671c7@api.test.paysafe.com/threedsecure/v1/accounts/1001076700/enrollmentchecks/4fdb66c4-1070-49e8-b525-4bd496c16156",
                "rel": "self"
                }
            ],
            "merchantRefNum": "check1",
            "status": "COMPLETED",
            "threeDEnrollment": "N",
            "txnTime": "2016-04-09T17:59:55Z"
            }
            
## Enrollment Lookup with a Payment Token [POST /v1/accounts/{ACCOUNT_ID}/enrollmentchecks]
<a name="enrollmentlookuptoken" title="Enrollment Lookup with Token"></a>

This is how you do an Enrollment Lookup using a payment token.

+ Parameters
    
    + ACCOUNT_ID:123456789 (string, required) - This is the merchant account number.

+ Request Enrollment Lookup (application/json)

    + Headers
            
            Authorization: Basic YOUR-BASE64-ENCODED-API-KEY
        
    + Attributes
        + merchantRefNum:`merchantABC-123-enrollmentchecks` (string, required) - This is the merchant reference number created by the merchant and submitted as part of the request. It must be unique for each request.
        + amount:5000 (number, required) - This is the amount of the request, in minor units. For example, US $10.99 would be 1099.
        + currency:USD (string, required) - This is the currency of the merchant account. 
        + card (object, required) - This is the [payment token](#cardobject) that represents the card used for the request.
            - paymentToken:LTEyMzYzMjQ3ODg (string, required) - This is the payment token.
        + customerIp:`172.0.0.1` (string, required) - This is the customer's IP address.
        + userAgent:`Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.125 Safari/537.36` (string, required) - This is the User-Agent header from the customer's browser.
        + acceptHeader:`text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8` (string, optional) - This is the Accept header from the customer's browser. Paysafe recommends including this parameter, as it can lead to higher 3D Secure acceptance rates.
        + merchantUrl:https://www.merchant.com (string, required) - This is the fully qualified URL of the merchant's commercial or customer care website.

    + Body

            {
              "merchantRefNum": "merchantABC-123-enrollmentchecks",
              "amount": 5000,
              "currency" : "USD",
              "customerIp": "172.0.0.1",
              "userAgent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.125 Safari/537.36",
              "acceptHeader": "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8",
              "merchantUrl": "https://www.merchant.com",
              "card": {
                "paymentToken": "LTEyMzYzMjQ3ODg"
                }
            }

+ Response 200 (application/json)

    + Attributes
        + links (array, required) - This is an [array of links](#linksobject).
            + (object)
                + rel:self (string, required) - This is the link type that allows different endpoints to be targeted depending on the end state of the transaction.
                + href:`https://api.test.paysafe.com/threedsecure/v1/accounts/99000/enrollmentchecks/e067d83f-add7-4b6b-8884-dfa8693dde1f` (string, required) - This is the URI of the resource.
        + id:`e067d83f-add7-4b6b-8884-dfa8693dde1f` (string, required) -This is the ID returned in the response.
        + merchantRefNum:`merchantABC-123-enrollmentchecks` (string, required) - This is the merchant reference number created by the merchant and submitted as part of the request. It must be unique for each request.
        + txnTime:`2016-04-09T17:59:55Z` (string, required) - This is the date and time the request was processed.
        + status:COMPLETED (enum, required) - This is the status of the Enrollment Lookup request.
            - COMPLETED - The transaction has been completed. 
            - FAILED - The Enrollment Lookup request failed. Check the error code for details.
        + amount:5000 (number, required) - This is the amount of the request, in minor units. For example, US $10.99 would be 1099.
        + currency:USD (string, required) - This is the currency of the merchant account.
        + card (object, required) - These are the details of the [card](#cardobject) used for the request.
            - type:VI (enum, required) - This is the type of card used for the request. 
            - lastDigits:1111 (string, required) - This is the last four digits of the card used for the request.
            - cardExpiry (object, required) - This is the card expiry date.
                - month:10 (number, required) - This is month the card expires.
                - year:2020 (number, required) - This is the year the card expires.        
        + customerIp:127.0.0.1 (string, required) - This is the customer's IP address.
        + acsURL:`https://pay.test.netbanx.com/emulator/test_acs` (string, optional) - This is the fully qualified URL to redirect the customer to complete the payer Authentication transaction. This value is available only if the value for threeDEnrollment = Y.
        + paReq:`eNpVUk1TwjAUvOdXOIznJoUwVuaRGRAH0PqFFPEYQ5QqSUuaQvHXm0ARvb3dvNnsbgLTpZFy8CxFaSSDO1kU/EOepYtu4+n6Vg1jEyc8LmK7+czfX0mDwWNvItcMNtIUaaZZGJCgCfgIkZMwYsm1ZcDFuj++Z5TSVqsFuIYIlDTjAaMRjVoXEb2gEeADhUBzJdl1kXMhb2RZAd4TCERWamt2LKIE8BEgKM2KLa3NOxhvt9sgy22q+CrnOyW1LQKRKcB+BwE+2Xos/VS4tFW6YEkyi9+SxZ34qmavSfU9HU2aXPfVy7TXBew3ECy4laxJQkoouTwLow4hHRIC3vMIuPKG2HmbBMTZqyGC3F/UO6A28Ud/GReqNEZqcUx1RAhklWfaJWCu2N/ZZTg5vxr5eoV1pQ31LqVq0BsNbKWfqlv+sJqbebO/Cj985/udvWTqKgvb3ncNnKLXwfWL4vrx3fTvU/wAaAaz3g==` (string, required)
        + eci:5 (number, optional) - This is the [e-commerce indicator](#enrollmentchecksobject).
        + threeDEnrollment:Y (enum, required) - This indicates whether or not the cardholder is enrolled in 3D Secure. 
            - Y - Cardholder authentication available 
            - N - Cardholder not enrolled in authentication
            - U - Cardholder authentication unavailable
    + Body

            {
            "links": [
                {
                "rel": "self",
                "href": "https://api.test.paysafe.com/threedsecure/v1/accounts/99000/enrollmentchecks/e067d83f-add7-4b6b-8884-dfa8693dde1f"
                }
            ],
            "id": "e067d83f-add7-4b6b-8884-dfa8693dde1f",
            "merchantRefNum": "merchantABC-123-enrollmentchecks",
            "txnTime": "2016-04-09T17:59:55Z",
            "status": "COMPLETED",
            "amount": 5000,
            "currency" : "USD",
            "card": {
                "type": "VI",
                "lastDigits": "1111",
                "cardExpiry": {
                    "month": 10,
                    "year": 2020
                }
            },
            "customerIp": "127.0.0.1",
            "acsURL": "https://pay.test.netbanx.com/emulator/test_acs",
            "paReq": "eNpVUk1TwjAUvOdXOIznJoUwVuaRGRAH0PqFFPEYQ5QqSUuaQvHXm0ARvb3dvNnsbgLTpZFy8CxFaSSDO1kU/EOepYtu4+n6Vg1jEyc8LmK7+czfX0mDwWNvItcMNtIUaaZZGJCgCfgIkZMwYsm1ZcDFuj++Z5TSVqsFuIYIlDTjAaMRjVoXEb2gEeADhUBzJdl1kXMhb2RZAd4TCERWamt2LKIE8BEgKM2KLa3NOxhvt9sgy22q+CrnOyW1LQKRKcB+BwE+2Xos/VS4tFW6YEkyi9+SxZ34qmavSfU9HU2aXPfVy7TXBew3ECy4laxJQkoouTwLow4hHRIC3vMIuPKG2HmbBMTZqyGC3F/UO6A28Ud/GReqNEZqcUx1RAhklWfaJWCu2N/ZZTg5vxr5eoV1pQ31LqVq0BsNbKWfqlv+sJqbebO/Cj985/udvWTqKgvb3ncNnKLXwfWL4vrx3fTvU/wAaAaz3g==",
            "threeDEnrollment": "Y"
            }
            
            
## Get Enrollment Lookup [GET /v1/accounts/{ACCOUNT_ID}/enrollmentchecks/{ENROLLMENTCHECK_ID}]
<a name="getenrollmentlookup" title="Look Up an Enrollment Lookup"></a>

This is how you look up an Enrollment Lookup. 

+ Parameters

    + ACCOUNT_ID:123456789 (string, required) - This is the merchant account number.
    + ENROLLMENTCHECK_ID:`e067d83f-add7-4b6b-8884-dfa8693dde1f` (string, required) - This is the Enrollment Lookup ID.

+ Request Get Enrollment Lookup (application/json)

    + Headers
            
            Authorization: Basic YOUR-BASE64-ENCODED-API-KEY

            
+ Response 200 (application/json)

    + Attributes
        + links (array, required) - This is an [array of links](#linksobject).
            + (object)
                + rel:self (string, required) - This is the link type that allows different endpoints to be targeted depending on the end state of the transaction.
                + href:`https://api.test.paysafe.com/threedsecure/v1/accounts/99000/enrollmentchecks/e067d83f-add7-4b6b-8884-dfa8693dde1f` (string, required) - This is the URI of the resource.
        + id:`e067d83f-add7-4b6b-8884-dfa8693dde1f` (string, required) -This is the ID returned in the response.
        + merchantRefNum:`merchantABC-123-enrollmentchecks` (string, required) - This is the merchant reference number created by the merchant and submitted as part of the request. It must be unique for each request.
        + txnTime:`2016-04-09T17:59:55Z` (string, required) - This is the date and time the request was processed.
        + status:COMPLETED (enum, required) - This is the status of the Enrollment Lookup request.
            - COMPLETED - The transaction has been completed. 
            - FAILED - The enrollment lookup request failed. Check the error code for details.
        + amount:5000 (number, required) -  This is the amount of the request, in minor units. For example, US $10.99 would be 1099.
        + currency:USD (string, required) - This is the currency of the merchant account.
        + card (object, required) - These are the details of the [card](#cardobject) used for the request.
            - type:VI (enum, required) - This is the type of card used for the request.
            - lastDigits:1111 (string, required) - This is the last four digits of the card used for the request.
            - cardExpiry (object, required) - This is the card expiry date.
                - month:10 (number, required) - This is month the card expires.
                - year:2020 (number, required) - This is the year the card expires.        
        + customerIp:127.0.0.1 (string, required) - This is the customer's IP address.
        + acsURL:`https://pay.test.netbanx.com/emulator/test_acs` (string, optional) - This is the fully qualified URL to redirect the customer to complete the payer authentication transaction. This value is available only if the value for threeDEnrollment = Y.
        + paReq:`eNpVUk1TwjAUvOdXOIznJoUwVuaRGRAH0PqFFPEYQ5QqSUuaQvHXm0ARvb3dvNnsbgLTpZFy8CxFaSSDO1kU/EOepYtu4+n6Vg1jEyc8LmK7+czfX0mDwWNvItcMNtIUaaZZGJCgCfgIkZMwYsm1ZcDFuj++Z5TSVqsFuIYIlDTjAaMRjVoXEb2gEeADhUBzJdl1kXMhb2RZAd4TCERWamt2LKIE8BEgKM2KLa3NOxhvt9sgy22q+CrnOyW1LQKRKcB+BwE+2Xos/VS4tFW6YEkyi9+SxZ34qmavSfU9HU2aXPfVy7TXBew3ECy4laxJQkoouTwLow4hHRIC3vMIuPKG2HmbBMTZqyGC3F/UO6A28Ud/GReqNEZqcUx1RAhklWfaJWCu2N/ZZTg5vxr5eoV1pQ31LqVq0BsNbKWfqlv+sJqbebO/Cj985/udvWTqKgvb3ncNnKLXwfWL4vrx3fTvU/wAaAaz3g==` (string, required)
        + eci:5 (number, optional) - This is the [e-commerce indicator](#enrollmentchecksobject).
        + threeDEnrollment:Y (enum, required) - This indicates whether or not the cardholder is enrolled in 3D Secure. 
            - Y - Cardholder authentication available 
            - N - Cardholder not enrolled in authentication
            - U - Cardholder authentication unavailable
        
    + Body

            {
            "links": [
                {
                "rel": "self",
                "href": "https://api.test.paysafe.com/threedsecure/v1/accounts/99000/enrollmentchecks/e067d83f-add7-4b6b-8884-dfa8693dde1f"
                }
            ],
            "id": "e067d83f-add7-4b6b-8884-dfa8693dde1f",
            "merchantRefNum": "merchantABC-123-enrollmentchecks",
            "txnTime": "2016-04-09T17:59:55Z",
            "status": "COMPLETED",
            "amount": 5000,
            "currency" : "USD",
            "card": {
                "type": "VI",
                "lastDigits": "1111",
                "cardExpiry": {
                    "month": 10,
                    "year": 2020
                }
            },
            "customerIp": "127.0.0.1",
            "acsURL": "https://pay.test.netbanx.com/emulator/test_acs",
            "paReq": "eNpVUk1TwjAUvOdXOIznJoUwVuaRGRAH0PqFFPEYQ5QqSUuaQvHXm0ARvb3dvNnsbgLTpZFy8CxFaSSDO1kU/EOepYtu4+n6Vg1jEyc8LmK7+czfX0mDwWNvItcMNtIUaaZZGJCgCfgIkZMwYsm1ZcDFuj++Z5TSVqsFuIYIlDTjAaMRjVoXEb2gEeADhUBzJdl1kXMhb2RZAd4TCERWamt2LKIE8BEgKM2KLa3NOxhvt9sgy22q+CrnOyW1LQKRKcB+BwE+2Xos/VS4tFW6YEkyi9+SxZ34qmavSfU9HU2aXPfVy7TXBew3ECy4laxJQkoouTwLow4hHRIC3vMIuPKG2HmbBMTZqyGC3F/UO6A28Ud/GReqNEZqcUx1RAhklWfaJWCu2N/ZZTg5vxr5eoV1pQ31LqVq0BsNbKWfqlv+sJqbebO/Cj985/udvWTqKgvb3ncNnKLXwfWL4vrx3fTvU/wAaAaz3g==",
            "threeDEnrollment": "Y"
            }          

# Authentications [/authentications]
<a name="authentications" title="Authentications"></a>

## Authentications [POST /v1/accounts/{ACCOUNT_ID}/enrollmentchecks/{ENROLLMENTCHECK_ID}/authentications]
<a name="authentication" title="Authentication"></a>

This is how you submit an Authentications request containing the payment authentication response (paRes), which allows the cardholder to authenticate their card at the issuer and to retrieve the values required for the authentication element of a card payment authorization request.

+ Parameters
    + ACCOUNT_ID:123456789 (string, required) - This is the merchant account number.
    + ENROLLMENTCHECK_ID:`e067d83f-add7-4b6b-8884-dfa8693dde1f` (string, required) - This is the Enrollment Lookup ID.

+ Request Authentication (application/json)

    + Headers
            
            Authorization: Basic YOUR-BASE64-ENCODED-API-KEY
            
    + Attributes
        + merchantRefNum:`merchantABC-123-authentications` (string, required) - This is the merchant reference number created by the merchant and submitted as part of the request. It must be unique for each request.
        + paRes:`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` (string, required) - This is the Payment Authentication Response that is returned from the issuing bank via your customer’s Web browser once your customer has provided their authentication information. It is an encoded response generated by the Issuer ACS software. Its digital signature will be verified through Paysafe to ensure it was generated by a legitimate Issuer.

    + Body

            {
                "merchantRefNum": "merchantABC-123-authentications",
                "paRes": "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"
            }            
            
+ Response 200 (application/json)

    + Attributes
        + links (array, required) - This is an [array of links](#linksobject).
            + (object)
                + rel:self (string, required) - This is the link type that allows different endpoints to be targeted depending on the end state of the transaction.
                + href:`https://api.test.paysafe.com/threedsecure/v1/accounts/99000/authentications/5d4db3bc-34c9-417f-a051-0d992ad9284e` (string, required) - This is the URI of the resource.
        + id:`5d4db3bc-34c9-417f-a051-0d992ad9284e` (string, required) -This is the ID returned in the response.
        + merchantRefNum:`merchantABC-123-authentications` (string, required) - This is the merchant reference number created by the merchant and submitted as part of the request. It must be unique for each request.
        + txnTime:`2016-04-09T17:59:55Z` (string, required) - This is the date and time the request was processed.
        + status:COMPLETED (enum, required) - This is the status of the Authentications request. 
            - COMPLETED - The transaction has been completed.
            - FAILED - The authentication request failed. Check the error code for details.
        + threeDResult:Y (enum, required) - This indicates the outcome of the Authentication.
            - Y - The cardholder successfully authenticated with their card issuer.
            - A - The cardholder authentication was attempted.
            - N - The cardholder failed to successfully authenticate with their card issuer.
            - U - Authentication with the card issuer was unavailable.
            - E - An error occurred during authentication.
        + signatureStatus:Y (enum, required) - This is the 3D Secure signature verification result value.
            - Y - All transaction and signature checks satisfied.
            - N - At least one transaction or signature check failed.
        + eci:5 (number, optional) - This is the [e-commerce indicator](#authenticationsobject). 
        + cavv:`AAABBhkXYgAAAAACBxdiENhf7A+=` (string, optional) - This is the Cardholder Authentication Verification Value, indicating that the transaction has been authenticated.
        + xid:`aWg4N1ZZOE53TkFrazJuMmkyRDA=` (string, optional) - This is the transaction identifier returned by the card issuer.
        
    + Body

            {
                "links": [
                    {
                        "rel": "self",
                        "href": "https://api.test.paysafe.com/threedsecure/v1/accounts/99000/authentications/5d4db3bc-34c9-417f-a051-0d992ad9284e"
                    }
                ],
                "id": "5d4db3bc-34c9-417f-a051-0d992ad9284e",
                "merchantRefNum": "merchantABC-123-authentications",
                "txnTime": "2016-04-09T17:59:55Z",
                "status": "COMPLETED",
                "threeDResult": "Y",
                "signatureStatus": "Y",
                "eci": 5,
                "cavv": "AAABBhkXYgAAAAACBxdiENhf7A+=",
                "xid": "aWg4N1ZZOE53TkFrazJuMmkyRDA="
            }   
            
## Get Authentication [GET /v1/accounts/{ACCOUNT_ID}/authentications/{AUTHENTICATION_ID}]
<a name="getauthentication" title="Look Up an Authentication"></a>

This is how you look up an Authentication. 

+ Parameters
    + ACCOUNT_ID:123456789 (string, required) - This is the merchant account number.
    + AUTHENTICATION_ID:`5d4db3bc-34c9-417f-a051-0d992ad9284e` (string, required) - This is the Authentication ID.

+ Request Get Authentication (application/json)

    + Headers
            
            Authorization: Basic YOUR-BASE64-ENCODED-API-KEY
            
+ Response 200 (application/json)

    + Attributes
        + links (array, required) - This is an [array of links](#linksobject).
            + (object)
                + rel:self (string, required) - This is the link type that allows different endpoints to be targeted depending on the end state of the transaction.
                + href:`https://api.test.paysafe.com/threedsecure/v1/accounts/99000/authentications/5d4db3bc-34c9-417f-a051-0d992ad9284e` (string, required) - This is the URI of the resource.
        + id:`5d4db3bc-34c9-417f-a051-0d992ad9284e` (string, required) -This is the ID returned in the response.
        + merchantRefNum:`merchantABC-123-authentications` (string, required) - This is the merchant reference number created by the merchant and submitted as part of the request. It must be unique for each request.
        + txnTime:`2016-04-09T17:59:55Z` (string, required) - This is the date and time the request was processed.
        + status:COMPLETED (enum, required) - This is the status of the Authentications request. 
            - COMPLETED - The transaction has been completed.
            - FAILED - The authentication request failed. Check the error code for details.
        + threeDResult:Y (enum, required) - This indicates the outcome of the Authentication.
            - Y - The cardholder successfully authenticated with their card issuer.
            - A - The cardholder authentication was attempted.
            - N - The cardholder failed to successfully authenticate with their card issuer.
            - U - Authentication with the card issuer was unavailable.
            - E - An error occurred during authentication.
        + signatureStatus:Y (enum, required) - This is the 3D Secure signature verification result value.
            - Y - All transaction and signature checks satisfied.
            - N - At least one transaction or signature check failed.
        + eci:5 (number, optional) - This is the [e-commerce indicator](#authenticationsobject). 
        + cavv:`AAABBhkXYgAAAAACBxdiENhf7A+=` (string, optional) - This is the Cardholder Authentication Verification Value, indicating that the transaction has been authenticated.
        + xid:`aWg4N1ZZOE53TkFrazJuMmkyRDA=` (string, optional) - This is the transaction identifier returned by the card issuer.

        
    + Body

            {
                "links": [
                    {
                        "rel": "self",
                        "href": "https://api.test.paysafe.com/threedsecure/v1/accounts/99000/authentications/5d4db3bc-34c9-417f-a051-0d992ad9284e"
                    }
                ],
                "id": "5d4db3bc-34c9-417f-a051-0d992ad9284e",
                "merchantRefNum": "merchantABC-123-authentications",
                "txnTime": "2016-04-09T17:59:55Z",
                "status": "COMPLETED",
                "threeDResult": "Y",
                "signatureStatus": "Y",
                "eci": 5,
                "cavv": "AAABBhkXYgAAAAACBxdiENhf7A+=",
                "xid": "aWg4N1ZZOE53TkFrazJuMmkyRDA="
            }              

## Get Authentication with Enrollment Check [GET /v1/accounts/{ACCOUNT_ID}/authentications/{AUTHENTICATION_ID}?fields=enrollmentchecks]
<a name="getauthenticationcheck" title="Look Up an Authentication with Enrollment Check"></a>

This is how you look up an Authentication and associated enrollment check in one request. 

+ Parameters
    + ACCOUNT_ID:123456789 (string, required) - This is the merchant account number.
    + AUTHENTICATION_ID:`5d4db3bc-34c9-417f-a051-0d992ad9284e` (string, required) - This is the Authentication ID.

+ Request Get Authentication and Perform an Enrollment Check (application/json)

    + Headers
            
            Authorization: Basic YOUR-BASE64-ENCODED-API-KEY
            
+ Response 200 (application/json)

    + Attributes
        + links (array, required) - This is an [array of links](#linksobject).
            + (object)
                + rel:self (string, required) - This is the link type that allows different endpoints to be targeted depending on the end state of the transaction.
                + href:`https://api.test.paysafe.com/threedsecure/v1/accounts/99000/authentications/5d4db3bc-34c9-417f-a051-0d992ad9284e` (string, required) - This is the URI of the resource.
        + id:`5d4db3bc-34c9-417f-a051-0d992ad9284e` (string, required) -This is the ID returned in the response.
        + merchantRefNum:`merchantABC-123-authentications` (string, required) - This is the merchant reference number created by the merchant and submitted as part of the request. It must be unique for each request.
        + txnTime:`2016-04-09T17:59:55Z` (string, required) - This is the date and time the request was processed.
        + status:COMPLETED (enum, required) - This is the status of the Authentications request. 
            - COMPLETED - The transaction has been completed.
            - FAILED - The authentication request failed. Check the error code for details.
        + threeDResult:Y (enum, required) - This indicates the outcome of the Authentication.
            - Y - The cardholder successfully authenticated with their card issuer.
            - A - The cardholder authentication was attempted.
            - N - The cardholder failed to successfully authenticate with their card issuer.
            - U - Authentication with the card issuer was unavailable.
            - E - An error occurred during authentication.
        + signatureStatus:Y (enum, required) - This is the 3D Secure signature verification result value.
            - Y - All transaction and signature checks satisfied.
            - N - At least one transaction or signature check failed.
        + eci:5 (number, optional) - This is the [e-commerce indicator](#authenticationsobject). 
        + cavv:`AAABBhkXYgAAAAACBxdiENhf7A+=` (string, optional) - This is the Cardholder Authentication Verification Value, indicating that the transaction has been authenticated.
        + xid:`aWg4N1ZZOE53TkFrazJuMmkyRDA=` (string, optional) - This is the transaction identifier returned by the card issuer.
        + enrollmentchecks (array, required) 
            + (object)
                + links (array, required) - This is an [array of links](#linksobject).
                    + (object)
                        + rel:`self` (string, required) - This is the link type that allows different endpoints to be targeted depending on the end state of the transaction.
                        + href:`https://api.test.paysafe.com/threedsecure/v1/accounts/99000/enrollmentchecks/e067d83f-add7-4b6b-8884-dfa8693dde1f` (string, required) - This is the URI of the resource.
                + id:`e067d83f-add7-4b6b-8884-dfa8693dde1f` (string, required) - This is the ID returned in the response.
                + merchantRefNum:`merchantABC-123-enrollmentchecks` (string, required) - This is the merchant reference number created by the merchant and submitted as part of the request. It must be unique for each request.
                + txnTime:`2016-04-09T17:59:55Z` (string, required) - This is the date and time the request was processed.
                + status:COMPLETED (enum, required) - This is the status of the Enrollment Lookup request.
                    - COMPLETED - The transaction has been completed. 
                    - FAILED - The Enrollment Lookup request failed. Check the error code for details.
                + amount:5000 (number, required) - This is the amount of the request, in minor units. For example, US $10.99 would be 1099.
                + currency:USD (string, required) - This is the currency of the merchant account.
                + card (object, required) - These are the details of the [card](#cardobject) used for the request.
                    - type:VI (enum, required) - This is the type of card used for the request. 
                    - lastDigits:1111 (string, required) - This is the last four digits of the card used for the request.
                    - cardExpiry (object, required) - This is the card expiry date.
                        - month:10 (number, required) - This is month the card expires.
                        - year:2020 (number, required) - This is the year the card expires.            
                + customerIp:127.0.0.1 (string, required) - This is the customer's IP address.
                + acsURL:`https://pay.test.netbanx.com/emulator/test_acs` (string, optional) - This is the fully qualified URL to redirect the customer to complete the payer Authentication transaction. This value is available only if the value for threeDEnrollment = Y.
                + paReq:`eNpVUk1TwjAUvOdXOIznJoUwVuaRGRAH0PqFFPEYQ5QqSUuaQvHXm0ARvb3dvNnsbgLTpZFy8CxFaSSDO1kU/EOepYtu4+n6Vg1jEyc8LmK7+czfX0mDwWNvItcMNtIUaaZZGJCgCfgIkZMwYsm1ZcDFuj++Z5TSVqsFuIYIlDTjAaMRjVoXEb2gEeADhUBzJdl1kXMhb2RZAd4TCERWamt2LKIE8BEgKM2KLa3NOxhvt9sgy22q+CrnOyW1LQKRKcB+BwE+2Xos/VS4tFW6YEkyi9+SxZ34qmavSfU9HU2aXPfVy7TXBew3ECy4laxJQkoouTwLow4hHRIC3vMIuPKG2HmbBMTZqyGC3F/UO6A28Ud/GReqNEZqcUx1RAhklWfaJWCu2N/ZZTg5vxr5eoV1pQ31LqVq0BsNbKWfqlv+sJqbebO/Cj985/udvWTqKgvb3ncNnKLXwfWL4vrx3fTvU/wAaAaz3g==` (string)
                + eci:5 (number, optional) - This is the [e-commerce indicator](#enrollmentchecksobject). 
                + threeDEnrollment:Y (enum, required) - This indicates whether or not the cardholder is enrolled in 3D Secure. 
                    - Y - Cardholder authentication available 
                    - N - Cardholder not enrolled in authentication
                    - U - Cardholder authentication unavailable
        
    + Body

            {  
               "links": [  
                  {  
                     "rel": "self",
                     "href": "https://api.test.paysafe.com/threedsecure/v1/accounts/99000/authentications/5d4db3bc-34c9-417f-a051-0d992ad9284e"
                  }
               ],
               "id": "5d4db3bc-34c9-417f-a051-0d992ad9284e",
               "merchantRefNum": "merchantABC-123-authentications",
               "txnTime": "2016-04-09T17:59:55Z",
               "status": "COMPLETED",
               "threeDResult": "Y",
               "signatureStatus": "Y",
               "eci": 5,
               "cavv": "AAABBhkXYgAAAAACBxdiENhf7A+=",
               "xid": "aWg4N1ZZOE53TkFrazJuMmkyRDA=",
               "enrollmentchecks": [  
                  {  
                     "links": [  
                        {  
                           "rel": "self",
                           "href": "https://api.test.paysafe.com/threedsecure/v1/accounts/99000/enrollmentchecks/e067d83f-add7-4b6b-8884-dfa8693dde1f"
                        }
                     ],
                     "id": "e067d83f-add7-4b6b-8884-dfa8693dde1f",
                     "merchantRefNum": "merchantABC-123-enrollmentchecks",
                     "txnTime": "2016-04-09T17:59:55Z",
                     "status": "COMPLETED",
                     "amount": 5000,
                     "card": {  
                        "type": "VI",
                        "lastDigits": "1111",
                        "cardExpiry": {  
                           "month": 10,
                           "year": 2020
                        }
                     },
                     "currency": "USD",
                     "customerIp": "127.0.0.1",
                     "acsURL": "https://pay.test.netbanx.com/emulator/test_acs",
                     "paReq": "eNpVUk1TwjAUvOdXOIznJoUwVuaRGRAH0PqFFPEYQ5QqSUuaQvHXm0ARvb3dvNnsbgLTpZFy8CxFaSSDO1kU/EOepYtu4+n6Vg1jEyc8LmK7+czfX0mDwWNvItcMNtIUaaZZGJCgCfgIkZMwYsm1ZcDFuj++Z5TSVqsFuIYIlDTjAaMRjVoXEb2gEeADhUBzJdl1kXMhb2RZAd4TCERWamt2LKIE8BEgKM2KLa3NOxhvt9sgy22q+CrnOyW1LQKRKcB+BwE+2Xos/VS4tFW6YEkyi9+SxZ34qmavSfU9HU2aXPfVy7TXBew3ECy4laxJQkoouTwLow4hHRIC3vMIuPKG2HmbBMTZqyGC3F/UO6A28Ud/GReqNEZqcUx1RAhklWfaJWCu2N/ZZTg5vxr5eoV1pQ31LqVq0BsNbKWfqlv+sJqbebO/Cj985/udvWTqKgvb3ncNnKLXwfWL4vrx3fTvU/wAaAaz3g==",
                     "threeDEnrollment": "Y"
                  }
               ]
            }  

# Data Structures

## card
- type (string) - This is the type of card used for the request.
- cardNum (string) - This is the card number used for the request.
- lastDigits (string) - This is the last four digits of the card used for the request, returned in the response.   
- cardExpiry (object) - This is the [card expiry](#cardExpiry) date.

## cardExpiry
- month:11 (string) - This is the month the card expires.
- year:2020 (string) - This is the year the card expires.

## error
- code (string) - This is the error code.
- message (string) - This is the error description.